<!DOCTYPE html><html lang="ja"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenSSL で自己証明書を作成する方法 | blog.comame.xyz</title>
</head>

<body>
    <header>
        <a href="/">blog.comame.xyz</a>
    </header>

    
    
    
    
    <div component="entry" id="c-entry">
        <div id="metadata">
            <h1 id="title">OpenSSL で自己証明書を作成する方法</h1>
            <time id="time">2019-09-26</time>
            <ul id="tags" class="tag-list"><li><a href="/tags/security.html">security</a></li><li><a href="/tags/server.html">server</a></li></ul>
        </div>
        <div id="content"><p>開発鯖用に毎回 Let's Encrypt で発行するのめんどいので、自分で発行しようと思った</p>

<h2>通常の証明書</h2>

<p>
</p><pre><code>$ openssl genrsa -aes256 2048 &gt; server.key
$ openssl req -new -key server.key &gt; server.csr  # Certificate Signing Request
$ openssl x509 -req -days 90 signkey server.key &lt; server.csr &gt; server.crt</code></pre>
<p></p>

<h2>複数の Common Name に対応する</h2>
<p>
</p><pre><code>$ cat &gt; altNames.txt
subjectAltName = DNS:foo.example.com, DNS:bar.example.com

$ openssl x509 -req -days 90 -signkey server.key -extfile altNames.txt &lt; server.csr &gt; server.crt
</code></pre>

<p></p>

<h2>CSR を確認する</h2>
<pre><code>$ openssl req -in server.csr -noout -text</code></pre>

<h2>証明書の内容 (あるいは期限のみ) を確認する</h2>
<pre><code>$ openssl x509 -in server.crt -noout -text [-dates]</code></pre>
</div>
        <div id="share">
            <img alt="共有" src="https://comame.xyz/assets/img/icons/share.svg">
            <a rel="noopener" target="_blank" title="Twitter で共有" href="https://twitter.com/intent/tweet?text=OpenSSL%20%E3%81%A7%E8%87%AA%E5%B7%B1%E8%A8%BC%E6%98%8E%E6%9B%B8%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95%0a&amp;url=http%3A%2F%2Flocalhost%2Fentries%2F2019-09-26%2Fself-signed-certificate.html&amp;related=comameito">
                <img alt="Twitter で共有" src="https://comame.xyz/assets/img/icons/twitter_logo.svg">
            </a>
            <a rel="noopener" target="_blank" title="Facebook で共有" href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%2Fentries%2F2019-09-26%2Fself-signed-certificate.html">
                <img alt="Facebook で共有" src="https://comame.xyz/assets/img/icons/facebook_logo.svg">
            </a>
            <a title="URL をコピー">
                <img alt="URL をコピー" src="https://comame.xyz/assets/img/icons/link.svg">
            </a>
            </div>
        <script async="" not-remove="" src="/assets/js/url-copy.js"></script>
    </div>

    <footer>
        <small>Copyright 2020 <a href="https://comame.xyz">comame</a> | <a href="https://github.com/comame/blog.comame.xyz">GitHub</a> | <a href="/feed.xml">Feed</a></small>
    </footer>

    <link rel="stylesheet" href="/assets/css/style.css">

    
    



</body></html>