{"pageProps":{"entry":{"entry":"docker-startup-wsl2","title":"WSL2 で Docker を自動起動する","date":"2020-03-08","tags":["Windows","note"],"type":"html"},"text":"<p>WSL2 では systemctl が使えないため、システムの起動時に Docker を自動起動することができない。ただ、Windows 側のタスクスケジューラを使えばできるらしい。</p>\n\n<h2>方法</h2>\n<h3>起動用スクリプトを書く</h3>\n<pre><code>#!/usr/bin/env bash\n# このファイルに実行権限も付与しておく\nsudo service docker start</code></pre>\n\n<h3>パスワードなしで実行できるようにする</h3>\n<pre><code>#/etc/sudoers\nuser ALL=(ALL:ALL) NOPASSWD: /bin/sh /path/to/script\n</code></pre>\n\n<h3>タスクスケジューラに設定する</h3>\n<ul>\n    <li>全般「最上位の特権で実行する」</li>\n    <li>トリガー「ログイン時」</li>\n    <li>操作「C:\\Windows\\System32\\bash.exe」「-c \"sudo /bin/sh /path/to/script\"」</li>\n    <li>条件「AC電源に接続されているときのみ」を外す</li>\n</ul>\n\n<h3>参考</h3>\n<p>こちらの Qiita 記事を参考にした。<a href=\"https://qiita.com/Ningensei848/items/75adeb29bb143633d60c\" target=\"_blank\">Automatically Docker Daemon Boot on Windows Subsystem Linux（WSLにおけるdockerデーモンの自動起動）</a></p>\n"},"__N_SSG":true}