{"pageProps":{"entry":{"entry":"cannot-connect-house-server","title":"Windows で動くおうちサーバにアクセスできなかった問題","date":"2020-05-17","tags":["server","troubleshoot"],"type":"md"},"text":"<h2>端的に</h2>\n<ul>\n<li>「プライベート」ネットワークとして接続する</li>\n<li>ファイアウォールを確認する</li>\n</ul>\n<h2>環境</h2>\n<h3>ネットワーク</h3>\n<pre>\n<code>+--------------------+</code>\n<code>|       Router       |</code>\n<code>|   192.168.0.1/24   |</code>\n<code>+--------------------+</code>\n<code>           |</code>\n<code>           |---------------------------|</code>\n<code>           |                           |</code>\n<code>+--------------------+      +--------------------+</code>\n<code>|       Windows      |      |       Android      |</code>\n<code>|     192.168.0.2    |      |     192.168.0.3    |</code>\n<code>+--------------------+      +--------------------+</code>\n</pre><h3>HTTP サーバ</h3>\n<p>Windows で 8080 番ポートで待ち受け。</p>\n<h2>発生した問題</h2>\n<p>Windows マシンで動かしているサーバに、自宅内の他の端末からアクセスできなかった</p>\n<ul>\n<li>Windows から <code>curl http://localhost:8080</code> は問題なし</li>\n<li>Windows から <code>curl http://192.168.0.2:8080</code> は問題なし</li>\n<li>Android から Chrome で <a href=http://192.168.0.2:8080 target='_blank' rel='noopener'>http://192.168.0.2:8080</a> を開こうとすると<code>ERR_CONNECTION_REFUSED</code></li>\n</ul>\n<h2>原因と対処</h2>\n<h3>Windows ファイアウォール</h3>\n<p>8080 番ポートへのアクセスが許可されていなかった。「受信の規則」に「TCP 8080番ポート」のアクセス許可を追加した。自宅のネットワークからのみアクセスできるようにするため、リモートアドレスは 192.168.0.1/24 のみとした。</p>\n<h3>ネットワーク プロフィール</h3>\n<p>ネットワークプロフィールが「パブリック」になっていた。Wi-Fi 設定から「プライベート」に変更した。</p>\n"},"__N_SSG":true}